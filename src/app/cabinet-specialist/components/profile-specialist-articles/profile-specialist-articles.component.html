<div class="page-wrapper">

    <!-- Header -->
    <profile-specialist-header></profile-specialist-header>

    <div class="container">
        <div class="content-wrapper">
            <profile-specialist-sidebar></profile-specialist-sidebar>

            <content *ngIf="articles">
                <div class="page-top">
                    <div class="page-head">
                        <h2>Статьи</h2>

                        <div class="new-article">
                            <div class="new-article-button" [routerLink]="['create']">
                                <img src="../../../../assets/images/icon-plus.svg" />
                            </div>
                        </div>
                    </div>

                    <div class="page-filters">
                        <div class="page-filter count">
                            <div class="filter-title">
                                На странице
                            </div>

                            <div class="filter-values">
                                <div class="filter-value" (click)="setPageSize(5)"
                                    [ngClass]="{'active': pageSize == 5, 'disabled': !articles.length}">5</div>
                                <div class="filter-value" (click)="setPageSize(10)"
                                    [ngClass]="{'active': pageSize == 10, 'disabled': !articles.length}">10</div>
                                <div class="filter-value" (click)="setPageSize(15)"
                                    [ngClass]="{'active': pageSize == 15, 'disabled': !articles.length}">15</div>
                                <div class="filter-value" (click)="setPageSize(30)"
                                    [ngClass]="{'active': pageSize == 30, 'disabled': !articles.length}">30</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="page-content">
                    <div class="articles-empty" *ngIf="!articles.length">
                        <div class="icon">
                            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M20.0001 38.0001C28.8366 38.0001 36.0001 30.8366 36.0001 22.0001C36.0001 13.1635 28.8366 6.00008 20.0001 6.00008C11.1635 6.00008 4.00008 13.1635 4.00008 22.0001C4.00008 30.8366 11.1635 38.0001 20.0001 38.0001ZM20.0001 40.0001C29.9412 40.0001 38.0001 31.9412 38.0001 22.0001C38.0001 12.059 29.9412 4.00008 20.0001 4.00008C10.059 4.00008 2.00008 12.059 2.00008 22.0001C2.00008 31.9412 10.059 40.0001 20.0001 40.0001Z" fill="#D4E1DC"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.0001 24.0001V11.0001H20.0001V22.0569L25.4188 18.1863L26.5813 19.8138L19.5813 24.8138C19.2765 25.0315 18.8756 25.0606 18.5425 24.8892C18.2094 24.7178 18.0001 24.3747 18.0001 24.0001Z" fill="#D4E1DC"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M37.293 10.7072L29.293 2.70718L30.7072 1.29297L38.7072 9.29297L37.293 10.7072Z" fill="#D4E1DC"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M2.70718 10.7072L10.7072 2.70718L9.29297 1.29297L1.29297 9.29297L2.70718 10.7072Z" fill="#D4E1DC"/>
                            </svg>                                
                        </div>

                        <div class="text">
                            Вы ещё не писали статей
                        </div>
                    </div>

                    <div class="articles-list" *ngIf="articles">
                        <article *ngFor="let article of articles">
                            <div class="article-content">
                                <div class="article-title">
                                    {{ article.title }}
                                </div>

                                <div class="article-short-text">
                                    {{ article.shortText }}
                                </div>

                                <div class="article-actions">
                                    <div class="article-date">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M14.125 1.25H13.375V0H12.125V1.25H3.875V0H2.625V1.25H1.875C0.841125 1.25 0 2.09113 0 3.125V14.125C0 15.1589 0.841125 16 1.875 16H14.125C15.1589 16 16 15.1589 16 14.125V3.125C16 2.09113 15.1589 1.25 14.125 1.25ZM14.75 14.125C14.75 14.4696 14.4696 14.75 14.125 14.75H1.875C1.53038 14.75 1.25 14.4696 1.25 14.125V5.875H14.75V14.125ZM14.75 4.625H1.25V3.125C1.25 2.78038 1.53038 2.5 1.875 2.5H2.625V3.75H3.875V2.5H12.125V3.75H13.375V2.5H14.125C14.4696 2.5 14.75 2.78038 14.75 3.125V4.625Z" fill="#9EACA9"/>
                                            <path d="M3.625 7.1875H2.375V8.4375H3.625V7.1875Z" fill="#9EACA9"/>
                                            <path d="M6.125 7.1875H4.875V8.4375H6.125V7.1875Z" fill="#9EACA9"/>
                                            <path d="M8.625 7.1875H7.375V8.4375H8.625V7.1875Z" fill="#9EACA9"/>
                                            <path d="M11.125 7.1875H9.875V8.4375H11.125V7.1875Z" fill="#9EACA9"/>
                                            <path d="M13.625 7.1875H12.375V8.4375H13.625V7.1875Z" fill="#9EACA9"/>
                                            <path d="M3.625 9.6875H2.375V10.9375H3.625V9.6875Z" fill="#9EACA9"/>
                                            <path d="M6.125 9.6875H4.875V10.9375H6.125V9.6875Z" fill="#9EACA9"/>
                                            <path d="M8.625 9.6875H7.375V10.9375H8.625V9.6875Z" fill="#9EACA9"/>
                                            <path d="M11.125 9.6875H9.875V10.9375H11.125V9.6875Z" fill="#9EACA9"/>
                                            <path d="M3.625 12.1875H2.375V13.4375H3.625V12.1875Z" fill="#9EACA9"/>
                                            <path d="M6.125 12.1875H4.875V13.4375H6.125V12.1875Z" fill="#9EACA9"/>
                                            <path d="M8.625 12.1875H7.375V13.4375H8.625V12.1875Z" fill="#9EACA9"/>
                                            <path d="M11.125 12.1875H9.875V13.4375H11.125V12.1875Z" fill="#9EACA9"/>
                                            <path d="M13.625 9.6875H12.375V10.9375H13.625V9.6875Z" fill="#9EACA9"/>
                                        </svg>                                            

                                        <div class="date">
                                            {{ article.date | date: 'dd.MM.yyy' }}
                                        </div>
                                    </div>

                                    <div class="article-likes-comments">
                                        <div class="article-likes">
                                            <div class="likes-count">
                                                {{ article.likes.length }}
                                            </div>

                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M4.16903 2.04334C2.6909 2.3027 1.1999 3.73423 1.1999 6.4333C1.1999 7.40689 1.6064 8.41866 2.25894 9.4093C2.90934 10.3967 3.78381 11.3322 4.67022 12.1449C5.55504 12.9561 6.44161 13.6358 7.10786 14.1131C7.44062 14.3516 7.71755 14.5388 7.91067 14.6661C7.94278 14.6873 7.97257 14.7068 7.9999 14.7246C8.02724 14.7068 8.05703 14.6873 8.08914 14.6661C8.28225 14.5388 8.55918 14.3516 8.89195 14.1131C9.55819 13.6358 10.4448 12.9561 11.3296 12.1449C12.216 11.3322 13.0905 10.3967 13.7409 9.4093C14.3934 8.41866 14.7999 7.40689 14.7999 6.4333C14.7999 3.73423 13.3089 2.3027 11.8308 2.04334C11.0823 1.91202 10.3194 2.07325 9.69988 2.53033C9.08265 2.98573 8.58023 3.7558 8.39466 4.89085H7.60514C7.41958 3.7558 6.91715 2.98573 6.29992 2.53033C5.6804 2.07325 4.91746 1.91202 4.16903 2.04334ZM7.9999 15.1992C7.79006 15.5397 7.78996 15.5397 7.78983 15.5396L7.78944 15.5393L7.78816 15.5386L7.78367 15.5358L7.76703 15.5254C7.75259 15.5164 7.73154 15.5031 7.70432 15.4858C7.64988 15.4512 7.57072 15.4002 7.47039 15.3341C7.26975 15.2018 6.98418 15.0087 6.64195 14.7635C5.95819 14.2736 5.04476 13.5736 4.12958 12.7345C3.21599 11.8969 2.29046 10.9115 1.59086 9.84938C0.893403 8.79055 0.399902 7.62429 0.399902 6.4333C0.399897 3.41127 2.10889 1.5926 4.03077 1.25538C4.98234 1.08841 5.9694 1.2923 6.77488 1.88658C7.27917 2.25865 7.70154 2.77554 7.9999 3.43058C8.29826 2.77555 8.72063 2.25865 9.22492 1.88659C10.0304 1.2923 11.0175 1.08841 11.969 1.25538C13.8909 1.5926 15.5999 3.41127 15.5999 6.4333C15.5999 7.62429 15.1064 8.79055 14.4089 9.84938C13.7093 10.9115 12.7838 11.8969 11.8702 12.7345C10.955 13.5736 10.0416 14.2736 9.35786 14.7635C9.01562 15.0087 8.73005 15.2018 8.52942 15.3341C8.42908 15.4002 8.34993 15.4512 8.29549 15.4858C8.26826 15.5031 8.24721 15.5164 8.23278 15.5254L8.21614 15.5358L8.21164 15.5386L8.21036 15.5393L8.20997 15.5396C8.20985 15.5397 8.20974 15.5397 7.9999 15.1992ZM7.9999 15.1992L8.20974 15.5397L7.9999 15.669L7.79006 15.5397L7.9999 15.1992Z" fill="#A9A9A9"/>
                                            </svg>                                                
                                        </div>

                                        <div class="article-comments">
                                            <div class="comments-count">
                                                {{ article.comments.length }}
                                            </div>

                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M4.22467 8.00078L3.75098 9.89554L6.11942 8.00078H8.80005C9.24189 8.00078 9.60005 7.64263 9.60005 7.20078V2.40078C9.60005 1.95893 9.24189 1.60078 8.80005 1.60078H2.40005C1.95821 1.60078 1.60005 1.95893 1.60005 2.40078V7.20078C1.60005 7.64263 1.95821 8.00078 2.40005 8.00078H4.22467ZM2.40005 12.0008L3.20005 8.80078H2.40005C2.39184 8.80078 2.38365 8.80072 2.37547 8.8006C1.50315 8.78746 0.800049 8.07627 0.800049 7.20078V2.40078C0.800049 1.51709 1.51639 0.800781 2.40005 0.800781H8.80005C9.6837 0.800781 10.4 1.51709 10.4 2.40078V7.20078C10.4 8.08447 9.6837 8.80078 8.80005 8.80078H6.40005L2.40005 12.0008Z" fill="#A9A9A9"/>
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.60005 9.44078V11.2008C5.60005 12.0845 6.31639 12.8008 7.20005 12.8008H9.60005L13.6 16.0008L12.8 12.8008H13.6L13.6246 12.8006C14.4969 12.7875 15.2 12.0763 15.2 11.2008V6.40078C15.2 5.51709 14.4837 4.80078 13.6 4.80078H10.4V5.60078H13.6C14.0419 5.60078 14.4 5.95893 14.4 6.40078V11.2008C14.4 11.6426 14.0419 12.0008 13.6 12.0008H11.7754L12.2491 13.8955L9.88067 12.0008H7.20005C6.75821 12.0008 6.40005 11.6426 6.40005 11.2008V8.80078L5.60005 9.44078Z" fill="#A9A9A9"/>
                                            </svg>                                                
                                        </div>
                                    </div>

                                    <div class="article-edit-actions">
                                        <div class="action-edit" [routerLink]="['/profile-specialist/articles', article.id]">
                                            Редактировать
                                        </div>

                                        <div class="action-delete" (click)="showDeleteArticleDialog(article.id)">
                                            Удалить
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="article-photo">
                                <img [src]="article.image.url" />
                            </div>
                        </article>
                    </div>

                    <div class="articles-pagination" *ngIf="articles.length">
                        <app-pagination [currentPage]="pageNumber" [totalPages]="totalPages"
                            (onChanged)="setPageNumber($event)"></app-pagination>
                    </div>
                </div>
            </content>
        </div>
    </div>

    <!-- Footer -->
    <app-footer></app-footer>
</div>

<profile-specialist-delete-dialog #deleteDialog class="delete-article-dialog"></profile-specialist-delete-dialog>